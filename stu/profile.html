<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>IISAQ Student Dashboard</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<link rel="stylesheet" href="/al/S.css">
	<style>
		@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');

		:root {
			--base-clr: #11121a;
			--line-clr: #42434a;
			--hover-clr: #222533;
			--text-clr: #e6e6ef;
			--acent-clr: #5e63ff;
			--secondary-text-clr: #b0b3c1;
		}

		body {
			font-family: 'Poppins', sans-serif;
			background-color: var(--base-clr);
			color: var(--text-clr);
			margin: 0;
			overflow-x: hidden;
		}

		.sidebar {
			background-color: var(--hover-clr);
			border-right: 1px solid var(--line-clr);
		}

		.sidebar-item-active {
			background-color: var(--base-clr);
			border-left: 4px solid var(--acent-clr);
			color: var(--acent-clr);
		}

		/* Profile Card Styling */
		.profile-card {
			background-color: var(--hover-clr);
			border: 1px solid var(--line-clr);
			border-radius: 16px;
			padding: 2.5rem;
			width: 100%;
			max-width: 450px;
			box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
		}

		.info-group {
			margin-bottom: 1.5rem;
		}

		.info-label {
			color: var(--secondary-text-clr);
			font-size: 0.7rem;
			text-transform: uppercase;
			letter-spacing: 1.2px;
			margin-bottom: 4px;
			display: block;
		}

		.info-value {
			font-size: 1.2rem;
			font-weight: 500;
		}

		.divider {
			border: 0;
			border-top: 1px solid var(--line-clr);
			margin: 20px 0;
		}
	</style>
</head>

<body class="antialiased">

	<div class="min-h-screen flex">
		<nav id="sidebar" class="close">
			<ul>
				<li>
					<span class="logo">Dashboard</span>
					<button onclick="toggleSidebar()" id="toggle-btn">
						<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
							<path
								d="M440-240 200-480l240-240 56 56-183 184 183 184-56 56Zm264 0L464-480l240-240 56 56-183 184 183 184-56 56Z" />
						</svg>
					</button>
				</li>
				<li class="active">
					<a href="profile.html">
						<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
							<path
								d="M480-480q-83 0-141.5-58.5T280-680q0-83 58.5-141.5T480-880q83 0 141.5 58.5T680-680q0 83-58.5 141.5T480-480Zm0 80q83 0 156 31.5t127 85.5q54 54 85.5 127T880-80H80q0-83 31.5-156t85.5-127q54-54 127-85.5T480-400Z" />
						</svg>
						<span>Profile</span>
					</a>
				</li>
				<li>
					<a href="index.html">
						<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
							<path
								d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z" />
						</svg>
						<span>Home</span>
					</a>
				</li>
				<!-- <li>
					<a href="/al/feedback.html">
						<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
							<path
								d="M240-400h122l200-200q9-9 13.5-20.5T580-643q0-11-5-21.5T562-684l-36-38q-9-9-20-13.5t-23-4.5q-11 0-22.5 4.5T440-722L240-522v122Zm280-243-37-37 37 37ZM300-460v-38l101-101 20 18 18 20-101 101h-38Zm121-121 18 20-38-38 20 18Zm26 181h273v-80H527l-80 80ZM80-80v-720q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H240L80-80Zm126-240h594v-480H160v525l46-45Zm-46 0v-480 480Z" />
						</svg>
						<span>Feedback</span>
					</a>
				</li> -->
			</ul>
		</nav>

		<main class="flex-1 p-4 md:p-8 ml-20 md:ml-64 flex justify-center items-center">
			<div id="profile-display" class="profile-card">
			</div>
		</main>
	</div>

	<script>
		// 1. Session Check (Immediate redirect to main index if missing)
		const ls = localStorage.getItem("lcds?t=s");
		if (!ls) { window.location.href = "/index.html"; }

		const sessionData = JSON.parse(ls).data;
		if (!sessionData) { window.location.href = "/index.html"; }

		// 2. Render Profile Card
		const display = document.getElementById("profile-display");

		display.innerHTML = `
            <h2 class="text-2xl font-bold text-[var(--acent-clr)] mb-2">Student Account</h2>
            <p class="text-[var(--secondary-text-clr)] text-sm mb-6">Manage your school identity</p>
            
            <hr class="divider">

            <div class="info-group">
                <span class="info-label">Full Name</span>
                <div class="info-value">${sessionData.name || 'Anonymous Student'}</div>
            </div>

            <div class="info-group">
                <span class="info-label">Student ID</span>
                <div class="info-value font-mono text-[var(--acent-clr)]">${sessionData.SID || 'N/A'}</div>
            </div>

            <div class="info-group">
                <span class="info-label">Current Enrollment</span>
                <div class="info-value">Grade ${sessionData.grade || '?'} â€” Section ${sessionData.section || '?'}</div>
            </div>

            <button onclick="logout()" class="w-full mt-6 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition-all duration-200 active:scale-95">
                Log Out
            </button>
        `;

		// 3. Logout Function
		function logout() {
			localStorage.removeItem('lcds?t=s');
			window.location.href = '/index.html';
		}
	</script>
	<script src="/al/main.js"></script>
	<script src="/accessVer/stu.js"></script>
</body>

</html>